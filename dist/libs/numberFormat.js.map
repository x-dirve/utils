{"version":3,"file":"numberFormat.js","sources":["../../src/libs/numberFormat.ts"],"sourcesContent":["import { isUndefined } from \"./isUndefined\";\nimport { isNumber } from \"./isNumber\";\nimport { isNull } from \"./isNull\";\n\n/**\n * 按位数格式化数字\n * @param  val       要格式化的数字\n * @param  separator 分割符\n * @param  size      分割位数间隔\n * @return           格式化完的字符串\n */\nexport function numberFormat(val: any, separator: string, size: number) {\n    if (!isNumber(val)) {\n        return \"0\";\n    }\n    if (isUndefined(separator) || isNull(separator)) {\n        separator = \",\";\n    }\n    if (!isNumber(size)) {\n        size = 3;\n    }\n    var last = size;\n\n    val = val.toString();\n    var pos = val.indexOf(\".\");\n    var res = \"\";\n    if (pos === -1) {\n        pos = val.length;\n    } else {\n        res = val.substr(pos);\n    }\n\n    if (val.charAt(0) === \"-\") {\n        last++;\n    }\n    while (pos > last) {\n        pos -= size;\n        res = separator + val.substr(pos, size) + res;\n    }\n    if (pos) {\n        res = val.substr(0, pos) + res;\n    }\n    return res;\n}"],"names":["val","separator","size","isNumber","isUndefined","isNull","last","pos","toString","indexOf","res","length","substr","charAt"],"mappings":"2MAW6BA,EAAUC,EAAmBC,GACtD,IAAKC,WAASH,GACV,MAAO,KAEPI,cAAYH,IAAcI,SAAOJ,MACjCA,EAAY,KAEXE,WAASD,KACVA,EAAO,GAEX,IAAII,EAAOJ,EAGPK,GADJP,EAAMA,EAAIQ,YACIC,QAAQ,KAClBC,EAAM,GAUV,KATa,IAATH,EACAA,EAAMP,EAAIW,OAEVD,EAAMV,EAAIY,OAAOL,GAGC,MAAlBP,EAAIa,OAAO,IACXP,IAEGC,EAAMD,GACTC,GAAOL,EACPQ,EAAMT,EAAYD,EAAIY,OAAOL,EAAKL,GAAQQ,EAK9C,OAHIH,IACAG,EAAMV,EAAIY,OAAO,EAAGL,GAAOG,GAExBA"}