{"version":3,"file":"date.js","sources":["../../src/libs/date.ts"],"sourcesContent":["import toDate from \"./toDate\";\nimport fix0 from \"./fix0\";\n\n/**\n * 日期格式化格式匹配正则\n */\nconst FORMAT_REGEXP = /[YymndjNwaAghGHisTM]/g;\nexport { FORMAT_REGEXP };\n\n/**\n * 按照指定格式将日期对象或时间戳转化为日期字符串\n * @param  date   日期对象或时间戳\n * @param  format 日期格式\n * @param  offset 修正偏移的秒数\n * @return        日期\n */\nexport default function date(date, format?: string, offset?: number): string {\n    format = format || \"Y-m-d H:i:s\";\n    let timestamp = toDate(date, offset);\n    if (timestamp === null) {\n        timestamp = new Date();\n    }\n    return format.replace(FORMAT_REGEXP, function formatCallback(tag: string) {\n        switch (tag) {\n            case \"Y\": return timestamp.getFullYear();\n            case \"y\": return timestamp.getFullYear() % 100;\n            case \"m\": return fix0(timestamp.getMonth() + 1, 2);\n            case \"n\": return timestamp.getMonth() + 1;\n            case \"d\": return fix0(timestamp.getDate(), 2);\n            case \"j\": return timestamp.getDate();\n            case \"N\": return timestamp.getDay();\n            case \"w\": return timestamp.getDay() % 7;\n            case \"a\": return timestamp.getHours() < 12 ? \"am\" : \"pm\";\n            case \"A\": return timestamp.getHours() < 12 ? \"AM\" : \"PM\";\n            case \"g\": return timestamp.getHours() % 12 + 1;\n            case \"h\": return fix0(timestamp.getHours() % 12 + 1, 2);\n            case \"G\": return timestamp.getHours();\n            case \"H\": return fix0(timestamp.getHours(), 2);\n            case \"i\": return fix0(timestamp.getMinutes(), 2);\n            case \"s\": return fix0(timestamp.getSeconds(), 2);\n            case \"T\": return Math.round(timestamp.getTime() / 1000);\n            case \"M\": return timestamp.getMilliseconds();\n        }\n        return tag;\n    });\n}"],"names":["FORMAT_REGEXP","date","format","offset","let","timestamp","toDate","Date","replace","tag","getFullYear","fix0","getMonth","getDate","getDay","getHours","getMinutes","getSeconds","Math","round","getTime","getMilliseconds"],"mappings":"oHAMMA,EAAgB,iCAUEC,EAAKA,EAAMC,EAAiBC,GAChDD,EAASA,GAAU,cACnBE,IAAIC,EAAYC,EAAOL,EAAME,GAI7B,OAHkB,OAAdE,IACAA,EAAY,IAAIE,MAEbL,EAAOM,QAAQR,GAAe,SAAwBS,GACzD,OAAQA,GACJ,IAAK,IAAK,OAAOJ,EAAUK,cAC3B,IAAK,IAAK,OAAOL,EAAUK,cAAgB,IAC3C,IAAK,IAAK,OAAOC,EAAKN,EAAUO,WAAa,EAAG,GAChD,IAAK,IAAK,OAAOP,EAAUO,WAAa,EACxC,IAAK,IAAK,OAAOD,EAAKN,EAAUQ,UAAW,GAC3C,IAAK,IAAK,OAAOR,EAAUQ,UAC3B,IAAK,IAAK,OAAOR,EAAUS,SAC3B,IAAK,IAAK,OAAOT,EAAUS,SAAW,EACtC,IAAK,IAAK,OAAOT,EAAUU,WAAa,GAAK,KAAO,KACpD,IAAK,IAAK,OAAOV,EAAUU,WAAa,GAAK,KAAO,KACpD,IAAK,IAAK,OAAOV,EAAUU,WAAa,GAAK,EAC7C,IAAK,IAAK,OAAOJ,EAAKN,EAAUU,WAAa,GAAK,EAAG,GACrD,IAAK,IAAK,OAAOV,EAAUU,WAC3B,IAAK,IAAK,OAAOJ,EAAKN,EAAUU,WAAY,GAC5C,IAAK,IAAK,OAAOJ,EAAKN,EAAUW,aAAc,GAC9C,IAAK,IAAK,OAAOL,EAAKN,EAAUY,aAAc,GAC9C,IAAK,IAAK,OAAOC,KAAKC,MAAMd,EAAUe,UAAY,KAClD,IAAK,IAAK,OAAOf,EAAUgB,kBAE/B,OAAOZ"}