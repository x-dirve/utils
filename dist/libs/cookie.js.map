{"version":3,"file":"cookie.js","sources":["../../src/libs/cookie.ts"],"sourcesContent":["import extend from \"./extend\";\n\n/**Cookie 配置 */\ninterface CookieOption {\n    /**cookie 生效地址 */\n    path?: string;\n\n    /**过期时间 */\n    expires?: number;\n}\n\n/**过期 */\nconst EXP_STR = \"Thu, 01 Jan 1970 00:00:00 GMT\";\n\nconst DEF_CONFIG = {\n    \"path\": \"/\"\n}\n\n/**\n * cookie写操作，过期时间单位(s)\n * @param name   cookie key\n * @param value  cookie value\n * @param config cookie 配置\n */\nfunction set(name: string, value, config: CookieOption) {\n    config = extend(\n        {}\n        , DEF_CONFIG\n        ,config || {}\n    );\n\n    var cookie = [`${name}=${value}`];\n    Object.keys(config).forEach(function (key) {\n        if (key === \"expires\" && config.expires) {\n            return cookie.push(\"expires=\" + new Date(+new Date() + config.expires * 24 * 3600 * 1000).toUTCString());\n        }\n        cookie.push(\n            `${key}=${config[key] || \"\"}`\n        );\n    });\n    document.cookie = cookie.join(\"; \");\n}\nexport { set };\n\n/**\n * 获取指定的 cookie\n * @param name cookie 名称\n */\nfunction get(name:string) {\n    return document.cookie.replace(new RegExp(\".*(?:^|; )\" + name + \"=([^;]*).*|.*\"), \"$1\");\n}\nexport { get }\n\n/**\n * 删除 cookie\n * @param name 要删除的 cookie 名称\n * @param path 生效路径\n */\nfunction remove(name: string, path: string) {\n    path = path || \"/\";\n    var value = get(name);\n    if (value) {\n        return document.cookie = `${name}=${value}; expires=${EXP_STR}; path=${path}`;\n    }\n}\nexport { remove }\n\nexport default {\n    get\n    , set\n    , remove\n}"],"names":["const","DEF_CONFIG","path","set","name","value","config","extend","cookie","Object","keys","forEach","key","expires","push","Date","toUTCString","document","join","get","replace","RegExp","remove"],"mappings":"gIAYAA,IAEMC,EAAa,CACfC,KAAQ,KASZ,SAASC,EAAIC,EAAcC,EAAOC,GAC9BA,EAASC,EACL,GACEN,EACDK,GAAU,IAGf,IAAIE,EAAS,CAAIJ,MAAQC,GACzBI,OAAOC,KAAKJ,GAAQK,SAAQ,SAAUC,GAClC,GAAY,YAARA,GAAqBN,EAAOO,QAC5B,OAAOL,EAAOM,KAAK,WAAa,IAAIC,MAAM,IAAIA,KAA0B,GAAjBT,EAAOO,QAAe,KAAO,KAAMG,eAE9FR,EAAOM,KACAF,OAAON,EAAOM,IAAQ,QAGjCK,SAAST,OAASA,EAAOU,KAAK,MAQlC,SAASC,EAAIf,GACT,OAAOa,SAAST,OAAOY,QAAQ,IAAIC,OAAO,aAAejB,EAAO,iBAAkB,MAStF,SAASkB,EAAOlB,EAAcF,GAC1BA,EAAOA,GAAQ,IACf,IAAIG,EAAQc,EAAIf,GAChB,GAAIC,EACA,OAAOY,SAAST,OAAYJ,MAAQC,EAARD,iDAA2CF,EAK/E,MAAe,KACXiB,MACEhB,SACAmB"}