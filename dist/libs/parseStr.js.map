{"version":3,"file":"parseStr.js","sources":["../../src/libs/parseStr.ts"],"sourcesContent":["import isUndefined from \"./isUndefined\";\nimport isString from \"./isString\";\n\n/**返回数据 */\ntype ParseReturn = { [key: string]: any };\n\n/**\n * 解析输入文本，输出带对应 kv 的对象\n * @param str        待处理字符串\n * @param separator  分割符号\n * @param assignment 赋值符号\n * @param ignore     需要排除的数据标识\n * @param decode     是否执行 decode 操作\n */\nexport default function parseStr(str: string, separator: string = \"&\", assignment: string | RegExp = /\\=(.+)/, ignore: RegExp = /^#/, decode: boolean = true): ParseReturn {\n    if (isString(str)) {\n        const subject = str.replace(/^\\?/, \"\").split(separator).reduce(\n            (res, part) => {\n                if (ignore.test(part)) {\n                    return res;\n                }\n                const partArr = part.split(assignment);\n                res[partArr[0]] = decode && !isUndefined(partArr[1]) ? decodeURIComponent(partArr[1]) : partArr[1];\n                return res;\n            }\n            , Object.create(null)\n        );\n        return subject;\n    } else {\n        return {};\n    }\n}"],"names":["parseStr","str","separator","assignment","ignore","decode","isString","replace","split","reduce","res","part","test","const","partArr","isUndefined","decodeURIComponent","Object","create"],"mappings":"sFAcwBA,EAASC,EAAaC,EAAyBC,EAAwCC,EAAuBC,GAClI,sBAD8D,oBAAmC,yBAA2B,sBAAwB,GAChJC,EAASL,GACOA,EAAIM,QAAQ,MAAO,IAAIC,MAAMN,GAAWO,iBACnDC,EAAKC,GACF,GAAIP,EAAOQ,KAAKD,GACZ,OAAOD,EAEXG,IAAMC,EAAUH,EAAKH,MAAML,GAE3B,OADAO,EAAII,EAAQ,IAAMT,IAAWU,EAAYD,EAAQ,IAAME,mBAAmBF,EAAQ,IAAMA,EAAQ,GACzFJ,IAETO,OAAOC,OAAO,OAIb"}