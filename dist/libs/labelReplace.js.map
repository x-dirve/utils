{"version":3,"file":"labelReplace.js","sources":["../../src/libs/labelReplace.ts"],"sourcesContent":["import isObject from \"./isObject\";\nimport isUndefined from \"./isUndefined\";\n\n/**\n * 带花括号标签检测正则\n * @type {RegExp}\n */\nconst labelReplaceExp: RegExp = /\\{(\\w+)\\}/g\nexport { labelReplaceExp }\n\n/**\n * 批量替换字符串中带花括号标签为指定数据\n * @param  tpl    待处理的字符串\n * @param  data   替换数据\n * @param  keep   是否保留未能解析的标签\n * @param  remove 是否同时删除已替换的数据字段\n * @return        替换后端字符串\n * @example\n * ```ts\n * labelReplace('{a}/{b}/c', {a: 1, b: 2}) // 1/2/c\n * labelReplace('{a}/{b}/c', {a: 1}, true) // 1/{b}/c\n * ```\n */\nexport default function labelReplace<T>(tpl: string, data: T, keep: boolean = false, remove:boolean = false): string {\n    return tpl.replace(labelReplaceExp, function (_, key) {\n        const re = isObject(data) ? data[key] : data;\n        if (remove &&!isUndefined(re)) {\n            delete data[key];\n        }\n        if (isUndefined(re) && keep) {\n            return _;\n        }\n        return re;\n    })\n}"],"names":["labelReplaceExp","labelReplace","tpl","data","keep","remove","replace","_","key","const","re","isObject","isUndefined"],"mappings":"iFAOMA,EAA0B,sBAgBRC,EAAgBC,EAAaC,EAASC,EAAuBC,GACjF,uBAD0E,mBAAwB,GAC3FH,EAAII,QAAQN,GAAiB,SAAUO,EAAGC,GAC7CC,IAAMC,EAAKC,EAASR,GAAQA,EAAKK,GAAOL,EAIxC,OAHIE,IAAUO,EAAYF,WACfP,EAAKK,GAEZI,EAAYF,IAAON,EACZG,EAEJG"}