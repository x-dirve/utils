{"version":3,"file":"toDate.js","sources":["../../src/libs/toDate.ts"],"sourcesContent":["import isNumber from \"./isNumber\";\nimport isString from \"./isString\";\n\n/**\n * 时间分割正则\n */\nconst DATE_REGEXP = /[^\\d]+/;\nexport { DATE_REGEXP };\n\n/**\n * 转换对象为JS Date对象\n * @param   date   <可选> 日期数据(时间戳, 字符串, Date对象, 空)\n * @param   offset 修正偏移的秒数\n * @return         返回JS Date对象 / NULL 日期格式错误\n */\nexport default function toDate(date, offset?: number) {\n    let ts;\n    if (date instanceof Date) {\n        ts = date;\n    } else if (isNumber(date)) {\n        ts = new Date(date);\n    } else if (isNaN(+date)) {\n        if (isString(date)) {\n            date = date.split(DATE_REGEXP);\n            if (date.length === 3) {\n                ts = new Date(+date[0], date[1] - 1, +date[2], 0, 0, 0, 0);\n                if (isNaN(+ts)) {\n                    ts = null;\n                }\n            }\n        } else {\n            return null;\n        }\n    }\n    if (!ts) {\n        if (!date) {\n            return null;\n        }\n        ts = new Date();\n        if (date > 5e8) {\n            // 时间戳\n            ts.setTime(date * 1000);\n        } else {\n            // 时间偏移(秒数)\n            ts.setTime(ts.getTime() + date * 1000);\n        }\n    }\n    if (!isNaN(Number(offset))) {\n        ts.setTime(ts.getTime() + (offset as number) * 1000);\n    }\n    return ts;\n}"],"names":["DATE_REGEXP","toDate","date","offset","let","ts","Date","isNumber","isNaN","isString","split","length","setTime","getTime","Number"],"mappings":"8EAMMA,EAAc,kBASIC,EAAOC,EAAMC,GACjCC,IAAIC,EACJ,GAAIH,aAAgBI,KAChBD,EAAKH,OACF,GAAIK,EAASL,GAChBG,EAAK,IAAIC,KAAKJ,QACX,GAAIM,OAAON,GAAO,CACrB,IAAIO,EAASP,GAST,OAAO,KAPa,KADpBA,EAAOA,EAAKQ,MAAMV,IACTW,SACLN,EAAK,IAAIC,MAAMJ,EAAK,GAAIA,EAAK,GAAK,GAAIA,EAAK,GAAI,EAAG,EAAG,EAAG,GACpDM,OAAOH,KACPA,EAAK,OAOrB,IAAKA,EAAI,CACL,IAAKH,EACD,OAAO,KAEXG,EAAK,IAAIC,KACLJ,EAAO,IAEPG,EAAGO,QAAe,IAAPV,GAGXG,EAAGO,QAAQP,EAAGQ,UAAmB,IAAPX,GAMlC,OAHKM,MAAMM,OAAOX,KACdE,EAAGO,QAAQP,EAAGQ,UAAiC,IAApBV,GAExBE"}